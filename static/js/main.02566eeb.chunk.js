(this.webpackJsonpmediatutorial=this.webpackJsonpmediatutorial||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){"use strict";n.r(t);var a=n(4),s=n(1),c=n.n(s),i=n(15),o=n.n(i),r=(n(82),n(20)),l=n(51),u=(n(85),n(86),n(87),l.a.initializeApp({apiKey:"AIzaSyDbxkcg3qcbedw2gmdPnUnyxFxB5NgaNns",authDomain:"socialape-f4e77.firebaseapp.com",projectId:"socialape-f4e77",storageBucket:"socialape-f4e77.appspot.com",messagingSenderId:"375526920200",appId:"1:375526920200:web:13d3fe8308b3e9a8fc41bd",measurementId:"G-03JLZGQDXD"})),d=l.a.storage(),j=(n(88),n(140)),g=n(142),h=n(136),b=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"95%"}}}})),m=(Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}})),function(e){var t=b(),n=e.email,s=e.setEmail,c=e.password,i=e.setpassword,o=e.handleLogin,r=e.hasAccount,l=e.setHasAccount,u=e.emailError,d=e.passwordError,h=e.handleSignUp;return Object(a.jsx)("section",{className:"login",children:Object(a.jsxs)("div",{className:"loginContainer",children:[Object(a.jsxs)("form",{className:t.root,noValidate:!0,autoComplete:"off",children:[Object(a.jsx)(g.a,{className:"outlined-basic",label:"Username",variant:"outlined",value:n,onChange:function(e){return s(e.target.value)}}),Object(a.jsx)("p",{classname:"errorMsg",children:u}),Object(a.jsx)(g.a,{className:"outlined-basic",label:"Password",type:"password",variant:"outlined",value:c,onChange:function(e){return i(e.target.value)}}),Object(a.jsx)("p",{className:"errorMsg",children:d})]}),Object(a.jsx)("div",{className:"btnContainer",children:r?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(j.a,{variant:"outlined",color:"secondary",component:"label",className:"SignInUp",children:["Sign In",Object(a.jsx)("button",{className:"loginButton",onClick:o,hidden:!0,children:"Sign in"})]}),Object(a.jsxs)("p",{children:["Don't have an account ? ",Object(a.jsx)("span",{onClick:function(){return l(!r)},children:"Sign up"})]})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(j.a,{variant:"outlined",color:"secondary",component:"label",className:"SignInUp",children:["  Sign Up",Object(a.jsx)("button",{className:"loginButton",onClick:h,hidden:!0,children:"Sign up"})]}),Object(a.jsxs)("p",{children:["Have an account ? ",Object(a.jsx)("span",{onClick:function(){return l(!r)},children:"Sign in"})]})]})})]})})}),f=n(50),O=n.n(f);n(96),n(97);var p=function(e){var t=e.imageList,n=(e.setImageList,e.getList,e.getImages,e.swiped);return Object(a.jsx)("div",{className:!0,children:Object(a.jsx)("div",{className:"tinderCards__cardContainer",children:t.map((function(e){return Object(a.jsx)(O.a,{className:"swipe",preventSwipe:["up","down"],onSwipe:function(t){return n(t,e)},children:Object(a.jsx)("div",{style:{backgroundImage:"url(".concat(e.img,")")},className:"card",children:Object(a.jsx)("h3",{children:e.name})})},e.img)}))})})},x=(n(98),n(62)),v=n.n(x),S=n(63),w=n.n(S),N=n(64),L=n.n(N),C=n(141);var _=function(){return Object(a.jsxs)("div",{className:"swipeButtons",children:[Object(a.jsx)(C.a,{className:"swipeButtons__left",children:Object(a.jsx)(v.a,{fontSize:"large"})}),Object(a.jsx)(C.a,{className:"swipeButtons__star",children:Object(a.jsx)(w.a,{fontSize:"large"})}),Object(a.jsx)(C.a,{className:"swipeButtons__right",children:Object(a.jsx)(L.a,{fontSize:"large"})})]})},k=(n(100),n.p+"static/media/binderlogo.b3c55963.jpg"),I=n(66),F=n.n(I),P=n(65),y=n.n(P),E=n(67),U=n.n(E);var A=function(e){var t=e.handleLogout,n=e.setPages,s=e.pages;function c(){n("Settings"==s?"":"Settings")}return Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)(C.a,{className:"header__icon",onClick:t,children:Object(a.jsx)(y.a,{fontSize:"large"})}),Object(a.jsx)(C.a,{className:"header__icon",onClick:function(){n("Leaderboard"==s?"":"Leaderboard")},children:Object(a.jsx)("img",{className:"header__logo",src:k,alt:"logo"})}),"Settings"==s?Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(C.a,{className:"header__icon",onClick:c,children:Object(a.jsx)(F.a,{fontSize:"large"})})}):Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(C.a,{className:"header__icon",onClick:c,children:Object(a.jsx)(U.a,{fontSize:"large"})})})]})},B=function(e){for(var t=e.imageList,n=[],s=0;s<t.length;s++){var c=t[s];if(n.length<10)n.push(c);else if(n.length>0){var i=n.pop();i.right<=c.right?(n.push(c),n.length<=10&&n.push(i)):n.push(i)}}return Object(a.jsx)(a.Fragment,{children:n.map((function(e,t){return Object(a.jsx)("div",{style:{backgroundImage:"url(".concat(e.img,")")},className:"leader",children:Object(a.jsx)("h2",{children:t+1})},t)}))})},D=(Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}})),function(e){var t=e.handleLogout,n=(e.user,e.list,e.setList),c=e.handleUpload,i=e.fileChange,o=e.setPages,l=e.pages,d=Object(s.useState)([]),g=Object(r.a)(d,2),h=g[0],b=g[1];function m(){u.firestore().collection("images").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),b(t)}))}Object(s.useEffect)((function(){m()}),[]);return Object(a.jsx)(a.Fragment,{children:"Settings"==l?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(A,{handleLogout:t,setPages:o,pages:l}),Object(a.jsx)("section",{children:Object(a.jsxs)("div",{className:"upload",children:[Object(a.jsxs)(j.a,{variant:"outlined",color:"secondary",component:"label",children:["Select a File",Object(a.jsx)("input",{type:"file",onChange:i,hidden:!0})]}),Object(a.jsxs)(j.a,{variant:"outlined",color:"secondary",component:"label",children:["UPLOAD",Object(a.jsx)("button",{onClick:c,hidden:!0,children:"UPLOAD"})]})]})})]}):"Leaderboard"==l?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(A,{handleLogout:t,setPages:o,pages:l}),Object(a.jsx)(B,{imageList:h})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(A,{handleLogout:t,setPages:o,pages:l}),Object(a.jsx)(p,{imageList:h,setImageList:b,getList:function(){u.firestore().collection("usersList").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),n(t)}))},getImages:m,swiped:function(e,t){var n=u.firestore().collection("images");"right"==e?t.right=t.right+1:t.left=t.left+1,n.doc(t.user).set({img:t.img,right:t.right,left:t.left,user:t.user}),console.log(t.user),console.log(e)}}),Object(a.jsx)(_,{})]})})});var z=function(){var e=Object(s.useState)(""),t=Object(r.a)(e,2),n=t[0],c=t[1],i=Object(s.useState)(""),o=Object(r.a)(i,2),l=o[0],j=o[1],g=Object(s.useState)(""),h=Object(r.a)(g,2),b=h[0],f=h[1],O=Object(s.useState)(""),p=Object(r.a)(O,2),x=p[0],v=p[1],S=Object(s.useState)(""),w=Object(r.a)(S,2),N=w[0],L=w[1],C=Object(s.useState)(!1),_=Object(r.a)(C,2),k=_[0],I=_[1],F=Object(s.useState)([]),P=Object(r.a)(F,2),y=P[0],E=P[1],U=Object(s.useState)(null),A=Object(r.a)(U,2),B=A[0],z=A[1],H=Object(s.useState)(""),J=Object(r.a)(H,2),M=J[0],G=J[1],T=u.firestore().collection("usersList"),W=u.firestore().collection("images"),q=function(){v(""),L("")},K=function(){u.auth().onAuthStateChanged((function(e){if(e){j(""),f(""),c(e);var t={id:e.uid,email:e.email};y.includes(t)||T.doc(e.uid).set({id:e.uid,email:e.email})}else c("")}))};return Object(s.useEffect)((function(){K()}),[]),Object(a.jsx)("div",{className:"App",children:n?Object(a.jsx)(D,{handleLogout:function(){u.auth().signOut(),G("")},user:n,list:y,setList:E,handleUpload:function(){d.ref("images/".concat(n.uid,"/").concat(B.name)).put(B).on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){d.ref("images/".concat(n.uid,"/")).child(B.name).getDownloadURL().then((function(e){W.doc(n.uid).set({img:e,right:0,left:0,user:n.uid})}))}))},fileChange:function(e){e.target.files[0]&&z(e.target.files[0])},setPages:G,pages:M}):Object(a.jsx)(m,{email:l,setEmail:j,password:b,setpassword:f,handleLogin:function(){G(""),q(),u.auth().signInWithEmailAndPassword(l,b).catch((function(e){switch(e.code){case"auth/invalid-email":case"auth/user-disabled":case"auth/user-not-found":v(e.message);break;case"auth/wrong-password":L(e.message)}}))},hasAccount:k,setHasAccount:I,emailError:x,passwordError:N,handleSignUp:function(){G(""),q(),u.auth().createUserWithEmailAndPassword(l,b).catch((function(e){switch(e.code){case"auth/email-already-in-use":case"auth/invalid-email":v(e.message);break;case"auth/weak-password":L(e.message)}}))}})})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,144)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),c(e),i(e)}))};o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(z,{})}),document.getElementById("root")),H()},82:function(e,t,n){},88:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){}},[[101,1,2]]]);
//# sourceMappingURL=main.02566eeb.chunk.js.map